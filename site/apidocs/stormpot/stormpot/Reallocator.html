<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.7) on Sun Jun 07 23:00:45 CEST 2020 -->
<title>Reallocator (stormpot 3.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-06-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Reallocator (stormpot 3.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Reallocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../module-summary.html">stormpot</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">stormpot</a></div>
<h2 title="Interface Reallocator" class="title">Interface Reallocator&lt;T extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - any type that implements Poolable.</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">Reallocator&lt;T extends <a href="Poolable.html" title="interface in stormpot">Poolable</a>&gt;</span>
extends <a href="Allocator.html" title="interface in stormpot">Allocator</a>&lt;T&gt;</pre>
<div class="block"><p>Reallocators are a special kind of <a href="Allocator.html" title="interface in stormpot"><code>Allocator</code></a> that can reallocate
<a href="Poolable.html" title="interface in stormpot"><code>Poolable</code></a>s that have expired. This is useful since the <a href="Pool.html" title="class in stormpot"><code>Pool</code></a>
will typically keep the Poolables around for a relatively long time, with
respect to garbage collection. Because of this, there is a high chance that
the Poolables tenure to the old generation during their life time. This
way, pools often cause a slow, but steady accretion of old generation
garbage, ultimately helping to increase the frequency of expensive full
collections.</p>
<p>The accretion of old generation garbage is inevitable, but the rate can be
slowed by reusing as much as possible of the Poolable instances, when they
are to be reallocated. This interface is only here to enable this
optimisation, and implementing it is completely optional.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Chris Vest &lt;<a href="mailto:mr.chrisvest@gmail.com">mr.chrisvest@gmail.com</a>&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Reallocator.html" title="type parameter in Reallocator">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reallocate(stormpot.Slot,T)">reallocate</a></span>&#8203;(<a href="Slot.html" title="interface in stormpot">Slot</a>&nbsp;slot,
          <a href="Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;poolable)</code></th>
<td class="colLast">
<div class="block">Possibly reallocate the given instance of T for the given slot, and
return it if the reallocation was successful, or a fresh replacement if
the instance could not be reallocated.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.stormpot.Allocator">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;stormpot.<a href="Allocator.html" title="interface in stormpot">Allocator</a></h3>
<code><a href="Allocator.html#allocate(stormpot.Slot)">allocate</a>, <a href="Allocator.html#deallocate(T)">deallocate</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="reallocate(stormpot.Slot,stormpot.Poolable)">
<!--   -->
</a><a id="reallocate(stormpot.Slot,T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reallocate</h4>
<pre class="methodSignature"><a href="Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;reallocate&#8203;(<a href="Slot.html" title="interface in stormpot">Slot</a>&nbsp;slot,
             <a href="Reallocator.html" title="type parameter in Reallocator">T</a>&nbsp;poolable)
      throws java.lang.Exception</pre>
<div class="block"><p>Possibly reallocate the given instance of T for the given slot, and
return it if the reallocation was successful, or a fresh replacement if
the instance could not be reallocated.</p>
<p>This method is effectively equivalent to the following:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">      deallocate(poolable);
      <span class="keyword">return</span> allocate(slot);</code></pre>
</div>
</div>
<p>With the only difference that it may, if possible, reuse the given
expired Poolable, either wholly or in part.</p>
<p>The state stored in the <a href="SlotInfo.html" title="interface in stormpot"><code>SlotInfo</code></a> for the object is reset
upon reallocation, just like it would be in the case of a normal
deallocation-allocation cycle.</p>
<p>Exceptions thrown by this method may propagate out through the
<a href="PoolTap.html#claim(stormpot.Timeout)"><code>claim</code></a> method of a pool, in the form of being
wrapped inside a <a href="PoolException.html" title="class in stormpot"><code>PoolException</code></a>. Pools must be able to handle these
exceptions in a sane manner, and are guaranteed to return to a working
state if a Reallocator stops throwing exceptions from its reallocate
method.</p>
<p>Be aware that if the reallocation of an object fails with an exception,
then no attempts will be made to explicitly deallocate that object. This
way, a failed reallocation is implicitly understood to effectively be a
successful deallocation.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot the pool wish to allocate an object for.
Implementers do not need to concern themselves with the details of a
pools slot objects. They just have to call release on them as the
protocol demands.</dd>
<dd><code>poolable</code> - The non-null Poolable instance to be reallocated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A fresh or rejuvenated instance of T. Never <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If the allocation fails.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Allocator.html#allocate(stormpot.Slot)"><code>Allocator.allocate(Slot)</code></a>, 
<a href="Allocator.html#deallocate(T)"><code>Allocator.deallocate(Poolable)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Reallocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011-2019&#x2013;2020. All rights reserved.</small></p>
</footer>
</body>
</html>
